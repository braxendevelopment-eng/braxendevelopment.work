<section id="quarter-club" class="min-h-screen bg-black text-white p-8">
  <h1 class="text-4xl font-bold mb-4 text-center">The Quarter Club</h1>
  <p class="text-center mb-6 max-w-3xl mx-auto">
    The Quarter Club is designed to help businesses strengthen their financial credibility and reputation for just <strong>$0.25/month</strong>.
    Subscriptions are billed annually at <strong>$3/year</strong> and reported to business credit bureaus, helping entrepreneurs build a lasting record of reliability.
    Braxen Development also offers <strong>the Path to Profit Handbook</strong> for $10 — a toolkit of practical strategies to elevate your financial literacy.
  </p>

  <!-- Pricing tiers -->
  <div class="flex flex-wrap justify-center gap-6 mb-10">
    <select id="tierSelect" class="bg-gray-900 border border-gray-700 text-white rounded-lg p-3">
      <option disabled selected>Select a Subscription Tier</option>
      <option value="founders_circle_annual">$0.25/mo (Billed $3/yr) – Founders’ Circle</option>
      <option value="dollar_bill_annual">$1/mo (Billed $12/yr) – Dollar Bill</option>
      <option value="bread_butter_annual">$2/mo (Billed $24/yr) – Bread & Butter</option>
      <option value="startup_lane">$5/mo – Startup Lane</option>
      <option value="builders_foundation">$10/mo – Builder’s Foundation</option>
      <option value="growth_track">$20/mo – Growth Track</option>
      <option value="pro_business">$50/mo – Pro Business</option>
      <option value="executive_class">$100/mo – Executive Class</option>
    </select>
  </div>

  <!-- Payment Method Selection -->
  <div class="text-center mb-8">
    <h2 class="text-2xl font-semibold mb-4">Choose Payment Method</h2>
    <div class="flex justify-center gap-4">
      <button id="payWithPayPal" class="bg-blue-600 hover:bg-blue-700 px-6 py-3 rounded-lg font-semibold">Pay with PayPal</button>
      <button id="payWithCrypto" class="bg-purple-600 hover:bg-purple-700 px-6 py-3 rounded-lg font-semibold">Pay with Polygon (USDC)</button>
    </div>
  </div>

  <!-- Polygon Payment Section -->
  <div id="cryptoPaymentSection" class="hidden text-center border-t border-gray-700 pt-8">
    <h3 class="text-xl mb-3">Send USDC on Polygon Network</h3>
    <p>Copy the wallet address below and send your exact payment amount.</p>

    <div class="mt-4 mb-2">
      <input type="text" id="polygonAddress" readonly class="bg-gray-900 border border-gray-700 text-white px-3 py-2 rounded w-80 text-center" 
      value="0x3b8eB1C782F7f33525d34028B7E8fA50a214303f">
    </div>
    <button id="copyPolygonAddress" class="bg-gray-700 hover:bg-gray-600 px-4 py-2 rounded mb-4">Copy Address</button>

    <div class="mt-4">
      <label class="block mb-2 font-semibold">Enter Your Transaction Hash:</label>
      <input type="text" id="txHash" placeholder="0x..." class="bg-gray-900 border border-gray-700 text-white px-3 py-2 rounded w-80 text-center">
    </div>
    <button id="submitTx" class="bg-green-600 hover:bg-green-700 px-6 py-2 rounded mt-4">Submit Payment</button>
  </div>

  <!-- PayPal Section -->
  <div id="paypalSection" class="hidden text-center border-t border-gray-700 pt-8">
    <h3 class="text-xl mb-3">Pay with PayPal</h3>
    <div id="paypal-button-container" class="flex justify-center mt-4"></div>
  </div>
</section>

<script src="https://www.paypal.com/sdk/js?client-id={{PAYPAL_CLIENT_ID}}&currency=USD"></script>
<script>
  const tierSelect = document.getElementById('tierSelect');
  const cryptoPaymentSection = document.getElementById('cryptoPaymentSection');
  const paypalSection = document.getElementById('paypalSection');

  document.getElementById('payWithCrypto').addEventListener('click', () => {
    paypalSection.classList.add('hidden');
    cryptoPaymentSection.classList.remove('hidden');
  });

  document.getElementById('payWithPayPal').addEventListener('click', () => {
    cryptoPaymentSection.classList.add('hidden');
    paypalSection.classList.remove('hidden');
    renderPayPalButton();
  });

  // Copy Polygon Address
  document.getElementById('copyPolygonAddress').addEventListener('click', () => {
    const address = document.getElementById('polygonAddress');
    navigator.clipboard.writeText(address.value);
    alert("Polygon address copied to clipboard!");
  });

  // PayPal Integration
  function renderPayPalButton() {
    const selectedTier = tierSelect.value;
    if (!selectedTier) {
      alert("Please select a tier first.");
      return;
    }

    paypal.Buttons({
      createOrder: function(data, actions) {
        return actions.order.create({
          purchase_units: [{
            description: selectedTier,
            amount: { value: getTierAmount(selectedTier) }
          }]
        });
      },
      onApprove: function(data, actions) {
        return actions.order.capture().then(function(details) {
          alert('Payment completed by ' + details.payer.name.given_name);
        });
      }
    }).render('#paypal-button-container');
  }

  function getTierAmount(tier) {
    const tiers = {
      "founders_circle_annual": 3,
      "dollar_bill_annual": 12,
      "bread_butter_annual": 24,
      "startup_lane": 5,
      "builders_foundation": 10,
      "growth_track": 20,
      "pro_business": 50,
      "executive_class": 100
    };
    return tiers[tier] || 0;
  }
</script>
